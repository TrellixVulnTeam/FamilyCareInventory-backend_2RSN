{"ast":null,"code":"import { onMounted, ref } from 'vue';\nimport { myItems } from '@/api/myProduct';\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const form = ref();\n    const blankForm = {\n      product_name: '',\n      product_version: '',\n      inventory: ''\n    };\n    form.value = blankForm; // listItem\n    // eslint-disable-next-line\n\n    const store = useStore();\n\n    const handleList = async () => {\n      // console.log(form)\n      // store.dispatch('app/listItem', form.value)\n      listItem(form.value).then(res => {\n        // console.log('get returned' + res)\n        ElMessageBox.alert('Your item has been listed!\\nYour item ID is ' + res + '.', 'Title', {\n          confirmButtonText: 'OK',\n          callback: action => {\n            form.value = {\n              title: '',\n              condition: '',\n              description: '',\n              media: '',\n              v_platform: '',\n              c_platform: '',\n              piece: '',\n              game_type: '',\n              owner_email: localStorage.getItem('token')\n            };\n            ElMessage({\n              type: 'info',\n              message: 'this form has been reset'\n            });\n          }\n        });\n      }).catch(err => {\n        alert(err);\n      });\n    };\n\n    const itemsData = ref([]);\n    onMounted(async () => {\n      const y = await myItems(localStorage.getItem('token'));\n      itemsData.value = y;\n    });\n    const __returned__ = {\n      form,\n      blankForm,\n      store,\n      handleList,\n      itemsData,\n      onMounted,\n      ref,\n      myItems\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAqCA,SAASA,SAAT,EAAoBC,GAApB,QAA+B,KAA/B;AACA,SAASC,OAAT,QAAwB,iBAAxB;;;;;;IAEA,MAAMC,IAAI,GAAGF,GAAG,EAAhB;IACA,MAAMG,SAAS,GAAG;MAChBC,YAAY,EAAE,EADE;MAEhBC,eAAe,EAAE,EAFD;MAGhBC,SAAS,EAAE;IAHK,CAAlB;IAKAJ,IAAI,CAACK,KAAL,GAAaJ,SAAb,EAEA;IACA;;IACA,MAAMK,KAAK,GAAGC,QAAQ,EAAtB;;IACA,MAAMC,UAAU,GAAG,YAAY;MAC7B;MACA;MACAC,QAAQ,CAACT,IAAI,CAACK,KAAN,CAAR,CAAqBK,IAArB,CAA2BC,GAAD,IAAS;QACjC;QACAC,YAAY,CAACC,KAAb,CAAmB,iDAAiDF,GAAjD,GAAuD,GAA1E,EAA+E,OAA/E,EAAwF;UACtFG,iBAAiB,EAAE,IADmE;UAEtFC,QAAQ,EAAGC,MAAD,IAAY;YACpBhB,IAAI,CAACK,KAAL,GAAa;cACXY,KAAK,EAAE,EADI;cAEXC,SAAS,EAAE,EAFA;cAGXC,WAAW,EAAE,EAHF;cAIXC,KAAK,EAAE,EAJI;cAKXC,UAAU,EAAE,EALD;cAMXC,UAAU,EAAE,EAND;cAOXC,KAAK,EAAE,EAPI;cAQXC,SAAS,EAAE,EARA;cASXC,WAAW,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB;YATF,CAAb;YAWAC,SAAS,CAAC;cACRC,IAAI,EAAE,MADE;cAERC,OAAO,EAAE;YAFD,CAAD,CAAT;UAID;QAlBqF,CAAxF;MAoBD,CAtBD,EAsBGC,KAtBH,CAsBUC,GAAD,IAAS;QAChBnB,KAAK,CAACmB,GAAD,CAAL;MACD,CAxBD;IAyBD,CA5BD;;IA8BA,MAAMC,SAAS,GAAGnC,GAAG,CAAC,EAAD,CAArB;IACAD,SAAS,CAAC,YAAY;MACpB,MAAMqC,CAAC,GAAG,MAAMnC,OAAO,CAAC2B,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAvB;MACAM,SAAS,CAAC5B,KAAV,GAAkB6B,CAAlB;IACD,CAHQ,CAAT","names":["onMounted","ref","myItems","form","blankForm","product_name","product_version","inventory","value","store","useStore","handleList","listItem","then","res","ElMessageBox","alert","confirmButtonText","callback","action","title","condition","description","media","v_platform","c_platform","piece","game_type","owner_email","localStorage","getItem","ElMessage","type","message","catch","err","itemsData","y"],"sources":["/Users/alzhong/Personal/Projects/FamilyCareInventory/frontend/src/views/MainView/InventoryView/InventoryView.vue"],"sourcesContent":["<template>\n  <div class=\"page-title\">\n    <h1>添加库存</h1>\n    <hr style=\"width:50%;text-align:left;margin-left:0\">\n  </div>\n  <div class=\"list-form\">\n    <el-form :model=\"form\" label-width=\"100px\">\n\n      <el-form-item label=\"品名\">\n        <el-input class=\"item-input\" size=\"large\" placeholder=\"Game Title\" v-model=\"form.title\"/>\n      </el-form-item>\n\n      <el-form-item label=\"型号\">\n        <el-input class=\"item-input\" size=\"large\" placeholder=\"Game Title\" v-model=\"form.title\"/>\n      </el-form-item>\n\n      <el-input-number v-model=\"form.inventory\" :step=\"0.1\" :min=\"0\" placeholder=\"Distance\" @keyup.enter=\"handleSearch\"/>\n    </el-form>\n  </div>\n  <br/>\n  <br/>\n  <br/>\n  <div class=\"page-title\">\n    <h1>现有库存</h1>\n    <hr style=\"width:50%;text-align:left;margin-left:0\">\n  </div>\n\n  <div class=\"items-container\">\n    <el-table :data=\"itemsData\" style=\"width: 100%\" table-layout: auto>\n      <el-table-column prop=\"product_name\" label=\"品名\"/>\n      <el-table-column prop=\"product_version\" label=\"型号\"/>\n      <el-table-column prop=\"inventory\" label=\"库存量\"/>\n    </el-table>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref } from 'vue'\nimport { myItems } from '@/api/myProduct'\n\nconst form = ref()\nconst blankForm = {\n  product_name: '',\n  product_version: '',\n  inventory: ''\n}\nform.value = blankForm\n\n// listItem\n// eslint-disable-next-line\nconst store = useStore()\nconst handleList = async () => {\n  // console.log(form)\n  // store.dispatch('app/listItem', form.value)\n  listItem(form.value).then((res) => {\n    // console.log('get returned' + res)\n    ElMessageBox.alert('Your item has been listed!\\nYour item ID is ' + res + '.', 'Title', {\n      confirmButtonText: 'OK',\n      callback: (action) => {\n        form.value = {\n          title: '',\n          condition: '',\n          description: '',\n          media: '',\n          v_platform: '',\n          c_platform: '',\n          piece: '',\n          game_type: '',\n          owner_email: localStorage.getItem('token')\n        }\n        ElMessage({\n          type: 'info',\n          message: 'this form has been reset'\n        })\n      }\n    })\n  }).catch((err) => {\n    alert(err)\n  })\n}\n\nconst itemsData = ref([])\nonMounted(async () => {\n  const y = await myItems(localStorage.getItem('token'))\n  itemsData.value = y\n})\n</script>\n\n<style scoped lang=\"scss\">\n\n.count-container {\n  margin-left: 300px;\n  width: 1000px;\n}\n\n.items-container {\n  margin-left: 300px;\n  width: 1000px;\n}\n\n.page-title {\n  font-size: 20px;\n  text-align: left;\n  margin-left: 300px;\n  margin-bottom: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}