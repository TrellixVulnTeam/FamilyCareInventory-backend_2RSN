{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-03abe980\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-title\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"添加成交\"), /*#__PURE__*/_createElementVNode(\"hr\", {\n  style: {\n    \"width\": \"50%\",\n    \"text-align\": \"left\",\n    \"margin-left\": \"0\"\n  }\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_2 = {\n  class: \"list-form\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"线上\");\n\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"线下\");\n\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"电子支付\");\n\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\"现金\");\n\nconst _hoisted_7 = /*#__PURE__*/_createTextVNode(\"     \");\n\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"     \");\n\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"     \");\n\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"     \");\n\nconst _hoisted_11 = /*#__PURE__*/_createTextVNode(\"删除\");\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"提交\");\n\nconst _hoisted_13 = /*#__PURE__*/_createTextVNode(\"新增商品\");\n\nconst _hoisted_14 = /*#__PURE__*/_createTextVNode(\"重置\");\n\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1\n/* HOISTED */\n));\n\nconst _hoisted_18 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"page-title\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, \"成交列表\"), /*#__PURE__*/_createElementVNode(\"hr\", {\n  style: {\n    \"width\": \"50%\",\n    \"text-align\": \"left\",\n    \"margin-left\": \"0\"\n  }\n})], -1\n/* HOISTED */\n));\n\nconst _hoisted_19 = {\n  class: \"items-container\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createTextVNode(\"Detail \");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n\n  const _component_el_col = _resolveComponent(\"el-col\");\n\n  const _component_el_button = _resolveComponent(\"el-button\");\n\n  const _component_el_form = _resolveComponent(\"el-form\");\n\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n  const _component_el_option = _resolveComponent(\"el-option\");\n\n  const _component_el_select = _resolveComponent(\"el-select\");\n\n  const _component_el_table = _resolveComponent(\"el-table\");\n\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_form, {\n    model: $setup.orderForm,\n    ref: \"form\",\n    \"label-width\": \"100px\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      prop: \"note\",\n      label: \"成交抬头\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.orderForm.note,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.orderForm.note = $event),\n        class: \"item-input\",\n        onKeyup: _cache[1] || (_cache[1] = _withKeys($event => $setup.focusOnNextItem('cn'), [\"enter\"]))\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"customer_name\",\n      label: \"客户名称\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.orderForm.customer_name,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.orderForm.customer_name = $event),\n        class: \"item-input\",\n        onKeyup: _cache[3] || (_cache[3] = _withKeys($event => $setup.focusOnNextItem('total'), [\"enter\"])),\n        id: \"cn\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      prop: \"total\",\n      label: \"成交额\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.orderForm.total,\n        \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.orderForm.total = $event),\n        class: \"item-input\",\n        onKeyup: _cache[5] || (_cache[5] = _withKeys($event => $setup.focusOnNextItem('tt'), [\"enter\"])),\n        id: \"total\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"成交日期\",\n      prop: \"trans_time\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n        type: \"date\",\n        placeholder: \"选择日期\",\n        modelValue: $setup.orderForm.trans_time,\n        \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.orderForm.trans_time = $event),\n        id: \"tt\"\n      }, null, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"成交方式\",\n      prop: \"flag\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n        modelValue: $setup.orderForm.flag,\n        \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $setup.orderForm.flag = $event)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio, {\n          label: \"online\"\n        }, {\n          default: _withCtx(() => [_hoisted_3]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode(_component_el_radio, {\n          label: \"offline\"\n        }, {\n          default: _withCtx(() => [_hoisted_4]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_form_item, {\n      label: \"支付方式\",\n      prop: \"method\",\n      required: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n        modelValue: $setup.orderForm.method,\n        \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $setup.orderForm.method = $event)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio, {\n          label: \"etransfer\"\n        }, {\n          default: _withCtx(() => [_hoisted_5]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode(_component_el_radio, {\n          label: \"cash\"\n        }, {\n          default: _withCtx(() => [_hoisted_6]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      }, 8\n      /* PROPS */\n      , [\"modelValue\"])]),\n      _: 1\n      /* STABLE */\n\n    }), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.orderForm.products, (product, index) => {\n      return _openBlock(), _createBlock(_component_el_form_item, {\n        label: '商品' + index,\n        key: product.key,\n        prop: '商品.' + index + '.product_name'\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_col, {\n          span: 5\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: product.product_name,\n            \"onUpdate:modelValue\": $event => product.product_name = $event,\n            placeholder: \"品名\",\n            style: {\n              \"width\": \"100%\"\n            }\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\", \"onUpdate:modelValue\"])]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        ), _hoisted_7, _createVNode(_component_el_col, {\n          span: 5\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: product.product_version,\n            \"onUpdate:modelValue\": $event => product.product_version = $event,\n            placeholder: \"型号\",\n            style: {\n              \"width\": \"100%\"\n            }\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\", \"onUpdate:modelValue\"])]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        ), _hoisted_8, _createVNode(_component_el_col, {\n          span: 5\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: product.quantity,\n            \"onUpdate:modelValue\": $event => product.quantity = $event,\n            placeholder: \"数量\",\n            style: {\n              \"width\": \"100%\"\n            }\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\", \"onUpdate:modelValue\"])]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        ), _hoisted_9, _createVNode(_component_el_col, {\n          span: 5\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_input, {\n            modelValue: product.price,\n            \"onUpdate:modelValue\": $event => product.price = $event,\n            placeholder: \"单价\",\n            style: {\n              \"width\": \"100%\"\n            }\n          }, null, 8\n          /* PROPS */\n          , [\"modelValue\", \"onUpdate:modelValue\"])]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1024\n        /* DYNAMIC_SLOTS */\n        ), _hoisted_10, _createVNode(_component_el_button, {\n          onClick: _withModifiers($event => $setup.removeOrderProduct(product), [\"prevent\"])\n        }, {\n          default: _withCtx(() => [_hoisted_11]),\n          _: 2\n          /* DYNAMIC */\n\n        }, 1032\n        /* PROPS, DYNAMIC_SLOTS */\n        , [\"onClick\"])]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"label\", \"prop\"]);\n    }), 128\n    /* KEYED_FRAGMENT */\n    )), _createVNode(_component_el_form_item, null, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.addorder,\n        class: \"item-button\"\n      }, {\n        default: _withCtx(() => [_hoisted_12]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_button, {\n        onClick: $setup.addOrderProduct,\n        class: \"item-button\"\n      }, {\n        default: _withCtx(() => [_hoisted_13]),\n        _: 1\n        /* STABLE */\n\n      }), _createVNode(_component_el_button, {\n        onClick: $setup.resetOrderForm,\n        class: \"item-button\"\n      }, {\n        default: _withCtx(() => [_hoisted_14]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"model\"])]), _hoisted_15, _hoisted_16, _hoisted_17, _hoisted_18, _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_el_table, {\n    data: $setup.ordersData,\n    style: {\n      \"width\": \"100%\"\n    },\n    \"table-layout:\": \"\",\n    auto: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"note\",\n      label: \"成交抬头\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"customer_name\",\n      label: \"客户名称\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"total\",\n      label: \"成交额\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"trans_time\",\n      label: \"成交日期\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"flag\",\n      label: \"成交方式\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"method\",\n      label: \"支付方式\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"商品列表\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_button, {\n        type: \"text\",\n        size: \"small\",\n        onClick: $event => $setup.handleDetail(row)\n      }, {\n        default: _withCtx(() => [_hoisted_20]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"onClick\"])]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode(_component_el_table_column, {\n      fixed: \"right\",\n      label: \"操作\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createVNode(_component_el_select, {\n        modelValue: $setup.ordersData[row.orderId],\n        \"onUpdate:modelValue\": $event => $setup.ordersData[row.orderId] = $event,\n        class: \"m-2\",\n        placeholder: \"Select\",\n        size: \"small\",\n        onChange: $event => $setup.handleDelete(row)\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_option, {\n          label: \"删除\",\n          value: \"0\"\n        })]),\n        _: 2\n        /* DYNAMIC */\n\n      }, 1032\n      /* PROPS, DYNAMIC_SLOTS */\n      , [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n      _: 1\n      /* STABLE */\n\n    })]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"data\"]), _createVNode(_component_el_dialog, {\n    modelValue: $setup.showDialog,\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $setup.showDialog = $event)\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $setup.dialogData,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"table-layout:\": \"\",\n      auto: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"product_name\",\n        label: \"品名\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"product_version\",\n        label: \"型号\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"quantity\",\n        label: \"数量\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"price\",\n        label: \"单价\"\n      })]),\n      _: 1\n      /* STABLE */\n\n    }, 8\n    /* PROPS */\n    , [\"data\"])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"modelValue\"])])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","style","_hoisted_1","_createVNode","_component_el_form","model","$setup","ref","_component_el_form_item","prop","label","required","_component_el_input","note","$event","onKeyup","customer_name","id","total","_component_el_date_picker","type","placeholder","trans_time","_component_el_radio_group","flag","_component_el_radio","method","_createElementBlock","_Fragment","_renderList","products","product","index","_createBlock","key","_component_el_col","span","product_name","product_version","quantity","price","_component_el_button","onClick","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_component_el_table","data","auto","_component_el_table_column","default","row","size","fixed","_component_el_select","orderId","onChange","_component_el_option","value","_component_el_dialog"],"sourceRoot":"","sources":["/Users/alzhong/Personal/Projects/FamilyCareInventory/frontend/src/views/MainView/OrderView/OrderView.vue"],"sourcesContent":["<template>\n  <div class=\"page-title\">\n    <h1>添加成交</h1>\n    <hr style=\"width:50%;text-align:left;margin-left:0\">\n  </div>\n  <div class=\"list-form\">\n    <el-form :model=\"orderForm\" ref=\"form\" label-width=\"100px\">\n      <el-form-item prop=\"note\" label=\"成交抬头\" required>\n        <el-input v-model=\"orderForm.note\" class=\"item-input\" @keyup.enter=\"focusOnNextItem('cn')\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"customer_name\" label=\"客户名称\" required>\n        <el-input v-model=\"orderForm.customer_name\" class=\"item-input\" @keyup.enter=\"focusOnNextItem('total')\" id=\"cn\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"total\" label=\"成交额\" required>\n        <el-input v-model=\"orderForm.total\" class=\"item-input\" @keyup.enter=\"focusOnNextItem('tt')\" id=\"total\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"成交日期\" prop=\"trans_time\" required>\n        <el-date-picker\n            type=\"date\" placeholder=\"选择日期\" v-model=\"orderForm.trans_time\" id=\"tt\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"成交方式\" prop=\"flag\" required>\n        <el-radio-group v-model=\"orderForm.flag\">\n          <el-radio label=\"online\">线上</el-radio>\n          <el-radio label=\"offline\">线下</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item label=\"支付方式\" prop=\"method\" required>\n        <el-radio-group v-model=\"orderForm.method\">\n          <el-radio label=\"etransfer\">电子支付</el-radio>\n          <el-radio label=\"cash\">现金</el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item v-for=\"(product, index) in orderForm.products\"\n                    :label=\"'商品' + index\"\n                    :key=\"product.key\"\n                    :prop=\"'商品.' + index + '.product_name'\">\n        <el-col :span=\"5\">\n          <el-input v-model=\"product.product_name\" placeholder=\"品名\" style=\"width: 100%;\"></el-input>\n        </el-col>\n        &nbsp;&nbsp;&nbsp;\n        <el-col :span=\"5\">\n          <el-input v-model=\"product.product_version\" placeholder=\"型号\" style=\"width: 100%;\"></el-input>\n        </el-col>\n        &nbsp;&nbsp;&nbsp;\n        <el-col :span=\"5\">\n          <el-input v-model=\"product.quantity\" placeholder=\"数量\" style=\"width: 100%;\"></el-input>\n        </el-col>\n        &nbsp;&nbsp;&nbsp;\n        <el-col :span=\"5\">\n          <el-input v-model=\"product.price\" placeholder=\"单价\" style=\"width: 100%;\"></el-input>\n        </el-col>\n        &nbsp;&nbsp;&nbsp;\n        <el-button @click.prevent=\"removeOrderProduct(product)\">删除</el-button>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"addorder\" class=\"item-button\">提交</el-button>\n        <el-button @click=\"addOrderProduct\" class=\"item-button\">新增商品</el-button>\n        <el-button @click=\"resetOrderForm\" class=\"item-button\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n  <br/>\n  <br/>\n  <br/>\n  <div class=\"page-title\">\n    <h1>成交列表</h1>\n    <hr style=\"width:50%;text-align:left;margin-left:0\">\n  </div>\n\n  <div class=\"items-container\">\n    <el-table :data=\"ordersData\" style=\"width: 100%\" table-layout: auto>\n      <el-table-column prop=\"note\" label=\"成交抬头\"/>\n      <el-table-column prop=\"customer_name\" label=\"客户名称\"/>\n      <el-table-column prop=\"total\" label=\"成交额\"/>\n      <el-table-column prop=\"trans_time\" label=\"成交日期\"/>\n      <el-table-column prop=\"flag\" label=\"成交方式\"/>\n      <el-table-column prop=\"method\" label=\"支付方式\"/>\n      <el-table-column label=\"商品列表\">\n        <template #default=\"{ row }\">\n          <el-button type=\"text\" size=\"small\" @click=\"handleDetail(row)\"\n          >Detail\n          </el-button\n          >\n        </template>\n      </el-table-column>\n      <el-table-column fixed=\"right\" label=\"操作\">\n        <template #default=\"{ row }\">\n          <el-select v-model=\"ordersData[row.orderId]\" class=\"m-2\" placeholder=\"Select\" size=\"small\"\n                     @change=\"handleDelete(row)\">\n            <el-option label=\"删除\" value=0></el-option>\n          </el-select>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-dialog\n        v-model=\"showDialog\"\n    >\n      <el-table :data=\"dialogData\" style=\"width: 100%\" table-layout: auto>\n        <el-table-column prop=\"product_name\" label=\"品名\"/>\n        <el-table-column prop=\"product_version\" label=\"型号\"/>\n        <el-table-column prop=\"quantity\" label=\"数量\"/>\n        <el-table-column prop=\"price\" label=\"单价\"/>\n      </el-table>\n    </el-dialog>\n  </div>\n</template>\n\n<script setup>\nimport { ElMessage, ElMessageBox } from 'element-plus'\nimport {onMounted, ref} from \"vue\";\nimport {myOrders} from \"@/api/myOrder\"\nimport {orderDetail} from \"@/api/orderDetail\";\nimport {deleteOrder} from \"@/api/deleteOrder\"\nimport { addOrder } from '@/api/addOrder'\n\nonMounted(async () => {\n  const y = await myOrders(localStorage.getItem('token'))\n  ordersData.value = y\n})\n\nconst orderForm = ref({\n  products: [{\n    product_name: '',\n    product_version: '',\n    quantity: '',\n    price: ''\n    }],\n  note: '',\n  trans_time: '',\n  flag: '',\n  total: '',\n  customer_name: '',\n  method: ''\n})\n\nconst addorder = async () => {\n  var legacy_total = 0\n  for (let product of orderForm.value.products) {\n    legacy_total += product.price * product.quantity\n  }\n  if (eval(legacy_total) !== eval(orderForm.value.total)) {\n    ElMessage({\n      type: 'error',\n      message: '总成交额与所有商品销售额总和不符，请重新检查'\n    })\n    return\n  }\n  addOrder(orderForm.value, localStorage.getItem('token')).then(() => {\n    ElMessageBox.alert('提交成功！', {\n      confirmButtonText: 'OK',\n      callback: () => {\n        setTimeout(initOrderData, 1)\n        setTimeout(resetOrderForm, 1)\n        ElMessage({\n          type: 'info',\n          message: '已更新列表'\n        })\n      }\n    })\n  }).catch((err) => {\n    alert(err)\n  })\n}\n\nconst addOrderProduct = async() =>{\n  orderForm.value.products.push({\n    product_name: '',\n    product_version: '',\n    quantity: '',\n    price: '',\n    key: Date.now()\n  })}\n\nconst removeOrderProduct = (product) => {\n  var index = orderForm.value.products.indexOf(product)\n  if (index !== -1) {\n    orderForm.value.products.splice(index, 1)\n  }\n}\n\nconst resetOrderForm = async() => {\n  orderForm.value = {\n    products: [{\n      product_name: '',\n      product_version: '',\n      quantity: '',\n      price: ''\n    }],\n    note: '',\n    trans_time: '',\n    flag: '',\n    total: '',\n    customer_name: '',\n    method: ''\n  }\n}\nconst ordersData = ref([])\nconst showDialog = ref(false)\nconst dialogData = ref([])\n\nconst handleDetail = async (row) => {\n  // eslint-disable-next-line\n  const x = await orderDetail(row.orderId, localStorage.getItem('token'))\n  showDialog.value = true\n  dialogData.value = x\n}\n\nconst initOrderData = async () => {\n  ordersData.value = []\n  ordersData.value = await myOrders(localStorage.getItem('token'))\n}\n\nconst handleDelete = async (row) => {\n  deleteOrder({\n    token: localStorage.getItem('token'),\n    orderId: row.orderId,\n  })\n  ElMessage({\n    type: 'info',\n    message: '已删除'\n  })\n  setTimeout(initOrderData, 1)\n}\n\nconst focusOnNextItem = (nextItemId) => {\n  var nextItem = document.getElementById(nextItemId)\n  nextItem.focus()\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.list-form {\n  margin-left: 350px;\n}\n\n.page-title {\n  font-size: 20px;\n  text-align: left;\n  margin-left: 300px;\n  margin-bottom: 20px;\n}\n\n.item-input {\n  width: 400px;\n}\n\n.item-button {\n  margin-left: 10px;\n  margin-top: 20px;\n}\n\n.items-container {\n  margin-left: 300px;\n  width: 1000px;\n}\n\n.page-title {\n  font-size: 20px;\n  text-align: left;\n  margin-left: 300px;\n  margin-bottom: 20px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}